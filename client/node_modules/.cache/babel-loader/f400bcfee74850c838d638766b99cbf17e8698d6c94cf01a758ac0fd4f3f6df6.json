{"ast":null,"code":"import{useState}from\"react\";import{FaUserCheck}from\"react-icons/fa\";import{useParams}from\"react-router-dom\";import NoProfile from\"../assets/profile.png\";import{Button,Card,Pagination,PopularPosts,PopularWriters}from\"../components\";import useStore from\"../store\";import{formatNumber}from\"../utils\";import{popular,posts,writer}from\"../utils/dummyData\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WriterPage=()=>{var _writer$followers$len,_writer$followers,_posts$length,_user$user;const{user}=useStore();const{id}=useParams();const numOfPages=4;const[page,setPage]=useState(0);const handlePageChange=val=>{setPage(val);console.log(val);};// const [writer, setWriter] = useState(null);\nconst followerIds=writer.followers.map(f=>fetch.followerId);if(!writer)return/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full py-8 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-lg text-slate-500\",children:\"No Writer Found\"})});return/*#__PURE__*/_jsxs(\"div\",{className:\"px-0 2xl:px-20 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:h-60 flex flex-col gap-5 items-center md:flex-row bg-black dark:bg-gradient-to-r from-[#020b19] via-[#071b3e] to-[#020b19]  mt-5 mb-10 rounded-md p-5 md:px-20\",children:[/*#__PURE__*/_jsx(\"img\",{src:(writer===null||writer===void 0?void 0:writer.image)||NoProfile,alt:\"Writer\",className:\"w-48 h-48 rounded-full border-4 border-slate-400 object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-full flex flex-col gap-y-5 md:gap-y-8  items-center justify-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-4xl 2xl:text-5xl font-bold\",children:writer===null||writer===void 0?void 0:writer.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-2xl font-semibold\",children:formatNumber((_writer$followers$len=writer===null||writer===void 0?void 0:(_writer$followers=writer.followers)===null||_writer$followers===void 0?void 0:_writer$followers.length)!==null&&_writer$followers$len!==void 0?_writer$followers$len:0)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Followers\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-2xl font-semibold\",children:formatNumber((_posts$length=posts===null||posts===void 0?void 0:posts.length)!==null&&_posts$length!==void 0?_posts$length:0)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Posts\"})]})]}),(user===null||user===void 0?void 0:user.token)&&/*#__PURE__*/_jsx(\"div\",{children:!(followerIds!==null&&followerIds!==void 0&&followerIds.includes(user===null||user===void 0?void 0:(_user$user=user.user)===null||_user$user===void 0?void 0:_user$user._id))?/*#__PURE__*/_jsx(Button,{label:\"Follow\",onClick:()=>{},styles:\"text-slate-800 text-semibold md:-mt-4 px-6 py-1 rounded-full bg-white\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2 text-white text-semibold md:-mt-4 px-6 py-1 rounded-full border\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Following\"}),/*#__PURE__*/_jsx(FaUserCheck,{})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col md:flex-row gap-10 2xl:gap-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-2/3 flex flex-col gap-y-28 md:gap-y-14\",children:(posts===null||posts===void 0?void 0:posts.length)===0?/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full py-8 flex  justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-lg text-slate-500\",children:\"No Post Available\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[posts===null||posts===void 0?void 0:posts.map((post,index)=>/*#__PURE__*/_jsx(Card,{post:post},(post===null||post===void 0?void 0:post._id)+index)),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex items-cemter justify-center\",children:/*#__PURE__*/_jsx(Pagination,{totalPages:numOfPages,onPageChange:handlePageChange})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/4 flex flex-col gap-y-12\",children:[/*#__PURE__*/_jsx(PopularPosts,{posts:popular===null||popular===void 0?void 0:popular.posts}),/*#__PURE__*/_jsx(PopularWriters,{data:popular===null||popular===void 0?void 0:popular.writers})]})]})]});};export default WriterPage;","map":{"version":3,"names":["useState","FaUserCheck","useParams","NoProfile","Button","Card","Pagination","PopularPosts","PopularWriters","useStore","formatNumber","popular","posts","writer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WriterPage","_writer$followers$len","_writer$followers","_posts$length","_user$user","user","id","numOfPages","page","setPage","handlePageChange","val","console","log","followerIds","followers","map","f","fetch","followerId","className","children","src","image","alt","name","length","token","includes","_id","label","onClick","styles","post","index","totalPages","onPageChange","data","writers"],"sources":["C:/Users/ASUS/Desktop/webFinal/fullstack_blog_app/client/src/pages/WriterPage.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { FaUserCheck } from \"react-icons/fa\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport NoProfile from \"../assets/profile.png\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Pagination,\r\n  PopularPosts,\r\n  PopularWriters,\r\n} from \"../components\";\r\nimport useStore from \"../store\";\r\nimport { formatNumber } from \"../utils\";\r\nimport { popular, posts, writer } from \"../utils/dummyData\";\r\n\r\nconst WriterPage = () => {\r\n  const { user } = useStore();\r\n\r\n  const { id } = useParams();\r\n  const numOfPages = 4;\r\n  const [page, setPage] = useState(0);\r\n\r\n  const handlePageChange = (val) => {\r\n    setPage(val);\r\n\r\n    console.log(val);\r\n  };\r\n  // const [writer, setWriter] = useState(null);\r\n\r\n  const followerIds = writer.followers.map((f) => fetch.followerId);\r\n\r\n  if (!writer)\r\n    return (\r\n      <div className='w-full h-full py-8 flex items-center justify-center'>\r\n        <span className='text-lg text-slate-500'>No Writer Found</span>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className='px-0 2xl:px-20 '>\r\n      <div className='w-full md:h-60 flex flex-col gap-5 items-center md:flex-row bg-black dark:bg-gradient-to-r from-[#020b19] via-[#071b3e] to-[#020b19]  mt-5 mb-10 rounded-md p-5 md:px-20'>\r\n        <img\r\n          src={writer?.image || NoProfile}\r\n          alt='Writer'\r\n          className='w-48 h-48 rounded-full border-4 border-slate-400 object-cover'\r\n        />\r\n        <div className='w-full h-full flex flex-col gap-y-5 md:gap-y-8  items-center justify-center'>\r\n          <h2 className='text-white text-4xl 2xl:text-5xl font-bold'>\r\n            {writer?.name}\r\n          </h2>\r\n\r\n          <div className='flex gap-10'>\r\n            <div className='flex flex-col items-center'>\r\n              <p className='text-gray-300 text-2xl font-semibold'>\r\n                {formatNumber(writer?.followers?.length ?? 0)}\r\n              </p>\r\n              <span className='text-gray-500'>Followers</span>\r\n            </div>\r\n\r\n            <div className='flex flex-col items-center'>\r\n              <p className='text-gray-300 text-2xl font-semibold'>\r\n                {formatNumber(posts?.length ?? 0)}\r\n              </p>\r\n              <span className='text-gray-500'>Posts</span>\r\n            </div>\r\n          </div>\r\n\r\n          {user?.token && (\r\n            <div>\r\n              {!followerIds?.includes(user?.user?._id) ? (\r\n                <Button\r\n                  label='Follow'\r\n                  onClick={() => {}}\r\n                  styles='text-slate-800 text-semibold md:-mt-4 px-6 py-1 rounded-full bg-white'\r\n                />\r\n              ) : (\r\n                <div className='flex items-center justify-center gap-2 text-white text-semibold md:-mt-4 px-6 py-1 rounded-full border'>\r\n                  <span>Following</span>\r\n                  <FaUserCheck />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className='w-full flex flex-col md:flex-row gap-10 2xl:gap-20'>\r\n        {/* LEFT */}\r\n        <div className='w-full md:w-2/3 flex flex-col gap-y-28 md:gap-y-14'>\r\n          {posts?.length === 0 ? (\r\n            <div className='w-full h-full py-8 flex  justify-center'>\r\n              <span className='text-lg text-slate-500'>No Post Available</span>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {posts?.map((post, index) => (\r\n                <Card key={post?._id + index} post={post} />\r\n              ))}\r\n\r\n              <div className='w-full flex items-cemter justify-center'>\r\n                <Pagination\r\n                  totalPages={numOfPages}\r\n                  onPageChange={handlePageChange}\r\n                />\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* RIGHT */}\r\n        <div className='w-full md:w-1/4 flex flex-col gap-y-12'>\r\n          {/* POPULAR POSTS */}\r\n          <PopularPosts posts={popular?.posts} />\r\n\r\n          {/* POPULAR WRITERS */}\r\n          <PopularWriters data={popular?.writers} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WriterPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}